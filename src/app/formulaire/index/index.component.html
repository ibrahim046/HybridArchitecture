
<div class="flex items-center justify-center">
  <div class="shadow-lg w-full sm:w-3/5 bg-white mt-14 mx-auto p-8  ">

    <app-logo-titre></app-logo-titre>

    <div class="hidden">
      <button mat-raised-button (click)="isEditable = !isEditable">
        {{!isEditable ? 'Enable edit mode' : 'Disable edit mode'}}
      </button>
    </div>

    <mat-stepper linear #stepper>
      <mat-step >
        <form >
          <ng-template matStepLabel>Entrer une image</ng-template>
          <app-upload-image></app-upload-image>
          <div>
            <button mat-button matStepperNext>
              <span class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">Next</span>
            </button>
          </div>
        </form>
      </mat-step>
      <mat-step [stepControl]="detailsForm">
        <form [formGroup]="detailsForm" data-te-validation-init >
          <ng-template matStepLabel>Details sur l'etablissement</ng-template>
          <div class="flex flex-wrap -mx-3 mb-6 pt-10">
            <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 " for="grid-first-name">
                Nom Etablissement
              </label>
              <input
              name="nomEtablissement"
              formControlName="nomEtablissement"
              required
              class="form-control data-te-validation-ruleset form-control appearance-none block w-full text-gray-700 border border-gray-300 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-blue-500"
              [ngClass]="{'border-red-500': detailsForm.controls['nomEtablissement'].invalid && (detailsForm.controls['nomEtablissement'].dirty || detailsForm.controls['nomEtablissement'].touched)}"id="grid-first-name"
              type="text"
              placeholder="Jane" />
              <div class=" text-red-700 " role="alert"*ngIf="nomEtablissement?.errors?.['required']">Name is required.</div>
            </div>
            <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-state">
                Type de l'Etablissement?
              </label>
              <div class="relative">
                <select formControlName="typeEtablissement" required class="form-control block appearance-none w-full  border border-gray-300 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-blue-500" id="grid-state">
                  <option>Pharmacie</option>
                  <option>Autres</option>
                </select>
                <div class=" text-red-700 " role="alert"*ngIf="typeEtablissement?.errors?.['required']">Type is required.</div>
              </div>
            </div>
            <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-state">
                Quelle monnaie utilisez vous?
              </label>
              <div class="relative">
                <select formControlName="monnaieUtilisee" required class="form-control block appearance-none w-full  border border-gray-300 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-blue-500" id="grid-state">
                  <option>FCFA</option>
                  <option>EURO</option>
                  <option>DOLLARD</option>
                </select>
                <div class=" text-red-700 " role="alert"*ngIf="monnaieUtilisee?.errors?.['required']">Monaie is required.</div>
              </div>
            </div>
          </div>
          <div class="flex flex-wrap -mx-3 -my-3 mb-6 pt-5">
          <div class="w-full  px-3 mb-6 md:mb-0">
            <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-first-name">
              Decrivez votre Etablissement
            </label>
            <textarea formControlName="descriptionEtablissement" required class=" form-control appearance-none block w-full  text-gray-700 border border-gray-300 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-blue-500" id="grid-first-name" placeholder="Exemple"></textarea>
            <div class=" text-red-700 " role="alert"*ngIf="descriptionEtablissement?.errors?.['required']">Description is required.</div>
          </div>
          </div>
          <div>
            <button mat-button matStepperPrevious>
              <span class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">Back</span>
            </button>
            <button mat-button matStepperNext>
              <span class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">Next</span>
            </button>
          </div>
        </form>
      </mat-step>
      <mat-step  [stepControl]="personalInfoForm" errorMessage="required.">
        <form [formGroup]="personalInfoForm">
          <ng-template matStepLabel>Informations Personnelles</ng-template>
          <div class="flex flex-wrap -mx-3 mb-6 pt-10">
            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-first-name">
                Dans quel pays vous trouvez-vous ?
              </label>
              <input formControlName="country" class="appearance-none block w-full  text-gray-700 border border-gray-300 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-blue-500" id="grid-first-name" type="text" placeholder="Entrer le pays">
              <div class=" text-red-700 " role="alert"*ngIf="country?.errors?.['required']">Contry is required.</div>
            </div>
            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-first-name">
                Précisez la ville
              </label>
              <input formControlName="city" class="appearance-none block w-full  text-gray-700 border border-gray-300 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-blue-500" id="grid-first-name" type="text" placeholder="Entrer la ville">
              <div class=" text-red-700 " role="alert"*ngIf="city?.errors?.['required']">City is required.</div>
            </div>
          </div>


          <div class="flex flex-wrap -mx-3 mb-6 pt-10">
            <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-first-name">
                Contact de l'établissement
              </label>
              <input formControlName="contactEtablissement" class="appearance-none block w-full  text-gray-700 border border-gray-300 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-blue-500" id="grid-first-name" type="text" placeholder="Jane">
              <div class=" text-red-700 " role="alert"*ngIf="contactEtablissement?.errors?.['required']">Contact is required.</div>
            </div>
            <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-first-name">
                Votre site web
              </label>
              <input formControlName="website" class="appearance-none block w-full  text-gray-700 border border-gray-300 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-blue-500" id="grid-first-name" type="text" placeholder="Jane">
              <div class=" text-red-700 " role="alert" *ngIf="website?.errors?.['required']">website is required. Expl (www.google.com)</div>
            </div>
            <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-first-name">
                Votre compte Facebook
              </label>
              <input formControlName="facebookAccount" class="appearance-none block w-full  text-gray-700 border border-gray-300 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-blue-500" id="grid-first-name" type="text" placeholder="Jane">
              <div class=" text-red-700 " role="alert"*ngIf="facebookAccount?.errors?.['required']">FaceBook Account is required. Expl (www.facebook.com/dimitri)</div>
            </div>

          </div>


          <div>
            <button mat-button matStepperPrevious>
              <span class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">Back</span>
            </button>
            <button mat-button matStepperNext>
              <span class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">Next</span>
            </button>
          </div>
        </form>
      </mat-step>
      <mat-step  errorMessage="required.">
        <form >
          <ng-template matStepLabel>Heures d'ouvertures</ng-template>
          <app-heures-ouvertures></app-heures-ouvertures>
          <div>
            <button mat-button matStepperPrevious>
              <span class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">Back</span>
            </button>
            <button mat-button matStepperNext>
              <span class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">Next</span>
            </button>
          </div>
        </form>
      </mat-step>
      <mat-step  errorMessage="required.">
        <form >
          <ng-template matStepLabel>Forfais et Specialites</ng-template>
          <app-forfait-sante-specialite-medicale></app-forfait-sante-specialite-medicale>
          <div>
            <button mat-button matStepperPrevious>
              <span class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">Back</span>
            </button>
            <button mat-button matStepperNext>
              <span class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">Next</span>
            </button>
          </div>
        </form>
      </mat-step>
      <mat-step  errorMessage="required.">
        <form >
          <ng-template matStepLabel>Personnel Dedie</ng-template>
          <app-personnel-dedie></app-personnel-dedie>
          <div>
            <button mat-button matStepperPrevious>
              <span class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">Back</span>
            </button>
            <button mat-button matStepperNext>
              <span class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">Next</span>
            </button>
          </div>
        </form>
      </mat-step>
      <mat-step>
        <form [formGroup]="verif">
        <ng-template matStepLabel>Done</ng-template>
        <div class="text-sm pt-10">
          <p class="text-red-500"><span class="font-bold">*</span> Veuillez remplir tous les champs avec *</p>
          <p class="text-orange-500"><span class="font-bold">!</span> Ajoutez au moins une image</p>
        </div>

        <div class="space-y-2">
          <label class="flex items-start">
            <input type="checkbox" formControlName="reconnaissances" class="mt-1 h-4 w-4 border-gray-300 rounded text-blue-600 focus:ring-blue-500" required>
            <span class="ml-2 text-gray-700 text-sm">
              Je reconnais en soumettant ce formulaire que j'entre dans le processus de sélection des structures médicales de KimboCare.
            </span>
          </label>

          <label class="flex items-start">
            <input type="checkbox" formControlName="verifications" class="mt-1 h-4 w-4 border-gray-300 rounded text-blue-600 focus:ring-blue-500" required>
            <span class="ml-2 text-gray-700 text-sm">
              Je reconnais toutes les informations soumises vérifiées et conformes à la réalité actuelle de ma structure médicale
            </span>
          </label>

          <label class="flex items-start">
            <input type="checkbox" formControlName="conseils" class="mt-1 h-4 w-4 border-gray-300 rounded text-blue-600 focus:ring-blue-500">
            <span class="ml-2 text-gray-700 text-sm">
              Je comprends que mon établissement pourrait être tenu de communiquer aux médecins conseils de KimboCare les données relatives aux patients à des fins de traitement médical et de gestion des soins.
            </span>
          </label>
        </div>

        <div class="flex justify-center">
          <button mat-button matStepperNext [disabled]="!areAllCheckboxesChecked()"  class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
            Soumettre
          </button>
        </div>
        <div>
          <button mat-button matStepperPrevious>
              <span class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">Back</span>
            </button>
          <button mat-button (click)="stepper.reset()"> <span class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">Reset</span>
          </button>
        </div>
        </form>
      </mat-step>
    </mat-stepper>


  </div>
</div>
